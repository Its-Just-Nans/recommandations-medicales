<head itemscope itemtype="http://schema.org/WebSite">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  {{- partial "meta" . -}}

  <link rel="preconnect" href="https://cdn.jsdelivr.net/" crossorigin>

  {{- partial "font" . -}}

  {{ $sass := "" }}
  {{ $dark := "" }}
  {{ $print := "" }}
  {{ if hugo.IsProduction }}
    {{ $sass = resources.Get "sass/style.scss" | toCSS | postCSS | minify | fingerprint "sha384" }}
    {{ $print = resources.Get "sass/print.scss" | toCSS | postCSS | minify | fingerprint "sha384" }}
    <link rel="preload" href="{{ $sass.Permalink }}" as="style">
    <link rel="stylesheet" href="{{ $sass.Permalink }}" integrity="{{ $sass.Data.Integrity }}"><!-- media="print" onload="this.media='all'" -->
    <link rel="stylesheet" href="{{ $print.Permalink }}" media="print" integrity="{{ $print.Data.Integrity }}">
    {{ else }}
    {{ $sass = resources.Get "sass/style.scss" | toCSS }}
    {{ $dark = resources.Get "sass/dark-theme.scss" | toCSS }}
    {{ $print = resources.Get "sass/print.scss" | toCSS }}
    <link rel="preload" href="{{ $sass.Permalink }}" as="style">
    <link rel="stylesheet" href="{{ $sass.Permalink }}">
    <link rel="stylesheet" href="{{ $dark.Permalink }}" media="print" onload="this.media='screen and (prefers-color-scheme: dark)'">
    <link rel="stylesheet" href="{{ $print.Permalink }}" media="print">
  {{ end }}

  {{- if .Params.datatable }}
  <link rel="stylesheet" href="https://cdn.datatables.net/v/bs4/jszip-2.5.0/b-1.6.5/b-colvis-1.6.5/b-flash-1.6.5/b-html5-1.6.5/b-print-1.6.5/cr-1.5.2/fc-3.3.1/r-2.2.6/rr-1.2.7/sl-1.3.1/datatables.css" media="print" onload="this.media='all'" crossorigin>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/djibe-material@4.6.0-rc.2/css/material-plugins.min.css" integrity="sha256-8STR9nlSV66Ax+xGMU1qUIZavonrsbS90XnS+8HAMxk=" media="print" onload="this.media='all'" crossorigin>
  {{- end -}}
</head>
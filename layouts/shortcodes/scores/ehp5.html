<form class="my-4" id="score-ehp5" autocomplete="off">
  <p>Partie 1</p>
  <fieldset>
    <legend>1. Avez-vous éprouvé des difficultés à marcher à cause des douleurs&nbsp;?</legend>
    <input type="radio" id="ehp5-11" name="radio-ehp5-1" class="d-input-none" value="0" required>
    <label for="ehp5-11" class="chip chip-action chip-sm chip-choice">Jamais</label>
    <input type="radio" id="ehp5-12" name="radio-ehp5-1" class="d-input-none" value="1">
    <label for="ehp5-12" class="chip chip-action chip-sm chip-choice">Rarement</label>
    <input type="radio" id="ehp5-13" name="radio-ehp5-1" class="d-input-none" value="2">
    <label for="ehp5-13" class="chip chip-action chip-sm chip-choice">Parfois</label>
    <input type="radio" id="ehp5-14" name="radio-ehp5-1" class="d-input-none" value="3">
    <label for="ehp5-14" class="chip chip-action chip-sm chip-choice">Souvent</label>
    <input type="radio" id="ehp5-15" name="radio-ehp5-1" class="d-input-none" value="4">
    <label for="ehp5-15" class="chip chip-action chip-sm chip-choice">Toujours</label>
  </fieldset>
  <fieldset>
    <legend>2. Avez-vous eu l'impression que vos symptômes réglaient votre vie&nbsp;?</legend>
    <input type="radio" id="ehp5-21" name="radio-ehp5-2" class="d-input-none" value="0" required>
    <label for="ehp5-21" class="chip chip-action chip-sm chip-choice">Jamais</label>
    <input type="radio" id="ehp5-22" name="radio-ehp5-2" class="d-input-none" value="1">
    <label for="ehp5-22" class="chip chip-action chip-sm chip-choice">Rarement</label>
    <input type="radio" id="ehp5-23" name="radio-ehp5-2" class="d-input-none" value="2">
    <label for="ehp5-23" class="chip chip-action chip-sm chip-choice">Parfois</label>
    <input type="radio" id="ehp5-24" name="radio-ehp5-2" class="d-input-none" value="3">
    <label for="ehp5-24" class="chip chip-action chip-sm chip-choice">Souvent</label>
    <input type="radio" id="ehp5-25" name="radio-ehp5-2" class="d-input-none" value="4">
    <label for="ehp5-25" class="chip chip-action chip-sm chip-choice">Toujours</label>
  </fieldset>
  <fieldset>
    <legend>3. Avez-vous eu des changements d'humeur&nbsp;?</legend>
    <input type="radio" id="ehp5-31" name="radio-ehp5-3" class="d-input-none" value="0" required>
    <label for="ehp5-31" class="chip chip-action chip-sm chip-choice">Jamais</label>
    <input type="radio" id="ehp5-32" name="radio-ehp5-3" class="d-input-none" value="1">
    <label for="ehp5-32" class="chip chip-action chip-sm chip-choice">Rarement</label>
    <input type="radio" id="ehp5-33" name="radio-ehp5-3" class="d-input-none" value="2">
    <label for="ehp5-33" class="chip chip-action chip-sm chip-choice">Parfois</label>
    <input type="radio" id="ehp5-34" name="radio-ehp5-3" class="d-input-none" value="3">
    <label for="ehp5-34" class="chip chip-action chip-sm chip-choice">Souvent</label>
    <input type="radio" id="ehp5-35" name="radio-ehp5-3" class="d-input-none" value="4">
    <label for="ehp5-35" class="chip chip-action chip-sm chip-choice">Toujours</label>
  </fieldset>
  <fieldset>
    <legend>4. Avez-vous eu l'impression que les autres ne comprenaient pas ce que vous enduriez&nbsp;?</legend>
    <input type="radio" id="ehp5-41" name="radio-ehp5-4" class="d-input-none" value="0" required>
    <label for="ehp5-41" class="chip chip-action chip-sm chip-choice">Jamais</label>
    <input type="radio" id="ehp5-42" name="radio-ehp5-4" class="d-input-none" value="1">
    <label for="ehp5-42" class="chip chip-action chip-sm chip-choice">Rarement</label>
    <input type="radio" id="ehp5-43" name="radio-ehp5-4" class="d-input-none" value="2">
    <label for="ehp5-43" class="chip chip-action chip-sm chip-choice">Parfois</label>
    <input type="radio" id="ehp5-44" name="radio-ehp5-4" class="d-input-none" value="3">
    <label for="ehp5-44" class="chip chip-action chip-sm chip-choice">Souvent</label>
    <input type="radio" id="ehp5-45" name="radio-ehp5-4" class="d-input-none" value="4">
    <label for="ehp5-45" class="chip chip-action chip-sm chip-choice">Toujours</label>
  </fieldset>
  <fieldset>
    <legend>5. Avez-vous eu l'impression que votre apparence avait changée&nbsp;?</legend>
    <input type="radio" id="ehp5-51" name="radio-ehp5-5" class="d-input-none" value="0" required>
    <label for="ehp5-51" class="chip chip-action chip-sm chip-choice">Jamais</label>
    <input type="radio" id="ehp5-52" name="radio-ehp5-5" class="d-input-none" value="1">
    <label for="ehp5-52" class="chip chip-action chip-sm chip-choice">Rarement</label>
    <input type="radio" id="ehp5-53" name="radio-ehp5-5" class="d-input-none" value="2">
    <label for="ehp5-53" class="chip chip-action chip-sm chip-choice">Parfois</label>
    <input type="radio" id="ehp5-54" name="radio-ehp5-5" class="d-input-none" value="3">
    <label for="ehp5-54" class="chip chip-action chip-sm chip-choice">Souvent</label>
    <input type="radio" id="ehp5-55" name="radio-ehp5-5" class="d-input-none" value="4">
    <label for="ehp5-55" class="chip chip-action chip-sm chip-choice">Toujours</label>
  </fieldset>
  <div class="alert bg-light d-flex mt-md-4">
    <div class="d-flex flex-column align-items-center">
      <p class="typography-overline text-black-secondary m-0" style="font-size:.75rem;line-height:2rem">Score IRLS</p>
      <span class="font-weight-bold" id="irlsScore" style="font-size:2rem">0</span>
    </div>
    <p id="irlsText" class="lead m-auto">Veuillez répondre à toutes les questions</p>
  </div>
</form>
{{ $script := `
  // Score IRLS by djibe
  document.addEventListener( 'DOMContentLoaded', event => {
    const scoreIRLS = document.getElementById('irlsScore')
    const textIRLS = document.getElementById('irlsText')
    const IRLSElems = document.querySelectorAll('#score-irls input[type=\"radio\"]')
    IRLSElems.forEach((IRLSElem) => { IRLSElem.addEventListener('click', () => {
      irls()
    }) })
    const irls = () => {
      let score = 0
      const irlsElemsChecked = document.querySelectorAll('#score-irls input[type=\"radio\"]:checked')
        irlsElemsChecked.forEach(irlsElemChecked => {
        score += parseInt(irlsElemChecked.value, 10)
        if (irlsElemsChecked.length === 10) {
          scoreIRLS.innerHTML = score
          if (score <= 10) {
            textIRLS.innerHTML = '<b>SJSR léger</b><br>Mesures générales<br>Traitement opiacé à la demande'
          } else if (score >= 11 && score <= 20) {
            textIRLS.innerHTML = '<b>SJSR modéré</b><br>Mesures générales<br>Avis du médecin du sommeil'
          } else if (score >= 21 && score <= 30) {
            textIRLS.innerHTML = '<b>SJSR sévère</b><br>Mesures générales<br>Avis du médecin du sommeil'
          } else if (score >= 31) {
            textIRLS.innerHTML = '<b>SJSR très sévère</b><br>Mesures générales<br>Avis du médecin du sommeil'
          }
        } else {
          textIRLS.innerHTML = 'Veuillez répondre à toutes les questions'
        }
      })
    }
  })` }}
<script>{{ $script | safeJS }}</script>
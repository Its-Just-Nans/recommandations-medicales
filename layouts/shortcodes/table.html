{{ $htmlTable := .Inner | markdownify }}
{{ $old := "<table>" }}
{{ $new := "" }}
{{ $title := .Get "title" }}

{{ if $title }}
  {{ $new = printf "<table class=\"table\" itemscope itemtype=\"https://schema.org/Table\" role=\"region\" aria-labelledby=\"table-caption\" tabindex=\"0\"><caption id=\"table-caption\" itemprop=\"about\"><b>Tableau.</b> %s.</caption>" $title }}
{{ else }}
  {{ $new = printf "<table class=\"table\" role=\"region\" tabindex=\"0\">" }}
{{ end }}
{{ $htmlTable := replace $htmlTable $old $new }}
{{ $htmlTable := replaceRE "align=\"([a-z]+)\"" "style=\"text-align: $1\"" $htmlTable }}

<div class="data-table">
  {{ $htmlTable | safeHTML }}
</div>

<!-- Inspired by https://zwbetz.com/style-a-markdown-table-with-bootstrap-classes-in-hugo/ -->